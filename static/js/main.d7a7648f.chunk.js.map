{"version":3,"sources":["apis/streams.js","history.js","actions/index.js","actions/types.js","components/streams/StreamForm.js","components/streams/StreamCreate.js","components/streams/StreamList.js","components/streams/StreamEdit.js","components/Modal.js","components/streams/StreamDelete.js","components/streams/StreamShow.js","components/GoogleAuth.js","components/Header.js","components/App.js","reducers/authReducer.js","reducers/index.js","reducers/streamReducer.js","index.js"],"names":["axios","create","baseURL","createHistory","fetchStream","id","_ref3","Object","asyncToGenerator","regenerator_default","a","mark","_callee3","dispatch","response","wrap","_context3","prev","next","streams","get","concat","sent","type","payload","data","stop","this","_x4","apply","arguments","StreamForm","renderInput","_ref","input","label","meta","className","error","touched","react_default","createElement","assign","autoComplete","_this","renderError","onSubmit","formValues","props","_ref2","handleSubmit","Field","name","component","React","Component","reduxForm","form","validate","errors","title","description","StreamCreate","createStream","streams_StreamForm","connect","_callee","getState","userId","_context","auth","post","objectSpread","history","push","_x","_x2","StreamList","fetchStreams","stream","currentUserId","Link","to","map","key","renderAdmin","isSignedIn","style","textAlign","renderList","renderCreate","state","values","_callee2","_context2","_x3","StreamEdit","editStream","match","params","initialValues","_","pick","ownProps","_ref4","_callee4","_context4","patch","_x5","Modal","ReactDOM","createPortal","onClick","onDismiss","e","stopPropagation","content","actions","document","querySelector","StreamDelete","Fragment","deleteStream","components_Modal","renderContent","renderActions","_ref5","_callee5","_context5","delete","_x6","StreamShow","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","videoRef","createRef","buildPlayer","player","flv","createPlayer","url","attachMediaElement","current","load","destroy","_this$props$stream","ref","width","controls","GoogleAuth","onAuthChange","signIn","currentUser","getId","signOut","onSignIn","onSignOut","_this2","window","gapi","client","init","clientId","scope","then","auth2","getAuthInstance","listen","renderAuthButton","Header","components_GoogleAuth","App","Router","components_Header","Switch","Route","path","exact","INITIAL_STATE","combineReducers","length","undefined","action","formReducer","defineProperty","mapKeys","omit","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","reduxThunk","render","es","components_App"],"mappings":"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","file":"static/js/main.d7a7648f.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nexport default axios.create({\r\n  baseURL: \"http://localhost:3001\"\r\n});\r\n","import createHistory from \"history/createHashHistory\";\r\n\r\nexport default createHistory();\r\n","import streams from \"../apis/streams\";\r\nimport history from \"../history\";\r\nimport {\r\n  SIGN_IN,\r\n  SIGN_OUT,\r\n  CREATE_STREAM,\r\n  FETCH_STREAM,\r\n  FETCH_STREAMS,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM\r\n} from \"./types\";\r\n\r\nexport const signIn = userId => {\r\n  return {\r\n    type: SIGN_IN,\r\n    payload: userId\r\n  };\r\n};\r\n\r\nexport const signOut = () => {\r\n  return {\r\n    type: SIGN_OUT\r\n  };\r\n};\r\n\r\nexport const createStream = formValues => async (dispatch, getState) => {\r\n  const { userId } = getState().auth;\r\n  const response = await streams.post(\"/streams\", { ...formValues, userId });\r\n\r\n  dispatch({ type: CREATE_STREAM, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const fetchStreams = () => async dispatch => {\r\n  const response = await streams.get(\"/streams\");\r\n\r\n  dispatch({ type: FETCH_STREAMS, payload: response.data });\r\n};\r\n\r\nexport const fetchStream = id => async dispatch => {\r\n  const response = await streams.get(`/streams/${id}`);\r\n\r\n  dispatch({ type: FETCH_STREAM, payload: response.data });\r\n};\r\n\r\nexport const editStream = (id, formValues) => async dispatch => {\r\n  const response = await streams.patch(`/streams/${id}`, formValues);\r\n\r\n  dispatch({ type: EDIT_STREAM, payload: response.data });\r\n  history.push(\"/\");\r\n};\r\n\r\nexport const deleteStream = id => async dispatch => {\r\n  await streams.delete(`/streams/${id}`);\r\n\r\n  dispatch({ type: DELETE_STREAM, payload: id });\r\n  history.push(\"/\");\r\n};\r\n","export const SIGN_IN = \"SIGN_IN\";\r\nexport const SIGN_OUT = \"SIGN_OUT\";\r\nexport const CREATE_STREAM = \"CREATE_STREAM\";\r\nexport const FETCH_STREAMS = \"FETCH_STREAMS\";\r\nexport const FETCH_STREAM = \"FETCH_STREAM\";\r\nexport const DELETE_STREAM = \"DELETE_STREAM\";\r\nexport const EDIT_STREAM = \"EDIT_STREAM\";\r\n","import React from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\n\r\nclass StreamForm extends React.Component {\r\n  renderError({ error, touched }) {\r\n    if (touched && error) {\r\n      return (\r\n        <div className=\"ui error message\">\r\n          <div className=\"header\">{error}</div>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderInput = ({ input, label, meta }) => {\r\n    const className = `field ${meta.error && meta.touched ? \"error\" : \"\"}`;\r\n    return (\r\n      <div className={className}>\r\n        <label>{label}</label>\r\n        <input {...input} autoComplete=\"off\" />\r\n        {this.renderError(meta)}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  onSubmit = formValues => {\r\n    this.props.onSubmit(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <form\r\n        className=\"ui form error\"\r\n        onSubmit={this.props.handleSubmit(this.onSubmit)}\r\n      >\r\n        <Field name=\"title\" component={this.renderInput} label=\"Title\" />\r\n        <Field\r\n          name=\"description\"\r\n          component={this.renderInput}\r\n          label=\"Description\"\r\n        />\r\n        <button className=\"ui button primary\">Submit</button>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst validate = formValues => {\r\n  const errors = {};\r\n  if (!formValues.title) {\r\n    errors.title = \"Please enter a title\";\r\n  }\r\n  if (!formValues.description) {\r\n    errors.description = \"Please enter a description\";\r\n  }\r\n  return errors;\r\n};\r\n\r\nexport default reduxForm({\r\n  form: \"streamForm\",\r\n  validate\r\n})(StreamForm);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { createStream } from \"../../actions\";\r\nimport StreamForm from \"./StreamForm\";\r\n\r\nclass StreamCreate extends React.Component {\r\n  onSubmit = formValues => {\r\n    this.props.createStream(formValues);\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h3>Create a Stream</h3>\r\n        <StreamForm onSubmit={this.onSubmit} />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect(\r\n  null,\r\n  {\r\n    createStream\r\n  }\r\n)(StreamCreate);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStreams } from \"../../actions\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass StreamList extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStreams();\r\n  }\r\n\r\n  renderAdmin(stream) {\r\n    if (stream.userId === this.props.currentUserId) {\r\n      return (\r\n        <div className=\"right floated content\">\r\n          <Link to={`/streams/edit/${stream.id}`} className=\"ui button primary\">\r\n            Edit\r\n          </Link>\r\n          <Link\r\n            to={`/streams/delete/${stream.id}`}\r\n            className=\"ui button negative\"\r\n          >\r\n            Delete\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  renderList() {\r\n    return this.props.streams.map(stream => {\r\n      return (\r\n        <div className=\"item\" key={stream.id}>\r\n          {this.renderAdmin(stream)}\r\n          <i className=\"large middle aligned icon camera\" />\r\n          <div className=\"content\">\r\n            <Link to={`/streams/${stream.id}`} className=\"header\">\r\n              {stream.title}\r\n              <div className=\"description\">{stream.description}</div>\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n\r\n  renderCreate() {\r\n    if (this.props.isSignedIn) {\r\n      return (\r\n        <div style={{ textAlign: \"right\" }}>\r\n          <Link to=\"/streams/new\" className=\"ui button primary\">\r\n            Create Stream\r\n          </Link>\r\n        </div>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <h2>Streams</h2>\r\n        <div className=\"ui celled list\">{this.renderList()}</div>\r\n        {this.renderCreate()}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return {\r\n    streams: Object.values(state.streams),\r\n    currentUserId: state.auth.userId,\r\n    isSignedIn: state.auth.isSignedIn\r\n  };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  {\r\n    fetchStreams\r\n  }\r\n)(StreamList);\r\n","import React from \"react\";\r\nimport _ from \"lodash\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream, editStream } from \"../../actions\";\r\nimport StreamForm from \"./StreamForm\";\r\n\r\nclass StreamEdit extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n\r\n  onSubmit = formValues => {\r\n    this.props.editStream(this.props.match.params.id, formValues);\r\n  };\r\n\r\n  render() {\r\n    if (!this.props.stream) {\r\n      return <div>Loading...</div>;\r\n    }\r\n\r\n    return (\r\n      <div>\r\n        <h3>Edit a Stream</h3>\r\n        <StreamForm\r\n          initialValues={_.pick(this.props.stream, \"title\", \"description\")}\r\n          onSubmit={this.onSubmit}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStream, editStream }\r\n)(StreamEdit);\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Modal = props => {\r\n  return ReactDOM.createPortal(\r\n    <div onClick={props.onDismiss} className=\"ui dimmer modals visible active\">\r\n      <div\r\n        onClick={e => e.stopPropagation()}\r\n        className=\"ui standard modal visible active\"\r\n      >\r\n        <div className=\"header\">{props.title}</div>\r\n        <div className=\"content\">{props.content}</div>\r\n        <div className=\"actions\">{props.actions}</div>\r\n      </div>\r\n    </div>,\r\n    document.querySelector(\"#modal\")\r\n  );\r\n};\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport Modal from \"../Modal\";\r\nimport history from \"../../history\";\r\nimport { fetchStream, deleteStream } from \"../../actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass StreamDelete extends React.Component {\r\n  componentDidMount() {\r\n    this.props.fetchStream(this.props.match.params.id);\r\n  }\r\n\r\n  renderActions() {\r\n    return (\r\n      <>\r\n        <button\r\n          onClick={() => this.props.deleteStream(this.props.match.params.id)}\r\n          className=\"ui button negative\"\r\n        >\r\n          Delete\r\n        </button>\r\n        <Link to=\"/\" className=\"ui button\">\r\n          Cancel\r\n        </Link>\r\n      </>\r\n    );\r\n  }\r\n\r\n  renderContent() {\r\n    if (!this.props.stream) {\r\n      return \"Are you sure you want to delete\";\r\n    }\r\n    return `Are you sure you want to delete ${this.props.stream.title}?`;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <Modal\r\n        title=\"Delete Stream\"\r\n        content={this.renderContent()}\r\n        actions={this.renderActions()}\r\n        onDismiss={() => history.push(\"/\")}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { fetchStream, deleteStream }\r\n)(StreamDelete);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { fetchStream } from \"../../actions\";\r\nimport flv from \"flv.js\";\r\n\r\nclass StreamShow extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.videoRef = React.createRef();\r\n  }\r\n\r\n  componentDidMount() {\r\n    const { id } = this.props.match.params;\r\n\r\n    this.props.fetchStream(id);\r\n    this.buildPlayer();\r\n  }\r\n\r\n  buildPlayer() {\r\n    if (this.player || !this.props.stream) {\r\n      return;\r\n    }\r\n    const { id } = this.props.match.params;\r\n    this.player = flv.createPlayer({\r\n      type: \"flv\",\r\n      url: `http://localhost:8000/live/${id}.flv`\r\n    });\r\n    this.player.attachMediaElement(this.videoRef.current);\r\n    this.player.load();\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    this.buildPlayer();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    this.player.destroy();\r\n  }\r\n\r\n  render() {\r\n    const { title, description } = this.props.stream;\r\n\r\n    return (\r\n      <div>\r\n        <video ref={this.videoRef} style={{ width: \"100%\" }} controls />\r\n        <h1>{title}</h1>\r\n        <h5>{description}</h5>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst MapStateToProps = (state, ownProps) => {\r\n  return { stream: state.streams[ownProps.match.params.id] };\r\n};\r\n\r\nexport default connect(\r\n  MapStateToProps,\r\n  { fetchStream }\r\n)(StreamShow);\r\n","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { signIn, signOut } from \"../actions\";\r\n\r\nclass GoogleAuth extends React.Component {\r\n  componentDidMount() {\r\n    window.gapi.load(\"client:auth2\", () => {\r\n      window.gapi.client\r\n        .init({\r\n          clientId:\r\n            \"369899124214-k9r6vu5ladnmpuu4b4kjbq3k3s0r4hun.apps.googleusercontent.com\",\r\n          scope: \"email\"\r\n        })\r\n        .then(() => {\r\n          this.auth = window.gapi.auth2.getAuthInstance();\r\n          this.onAuthChange(this.auth.isSignedIn.get());\r\n          this.auth.isSignedIn.listen(this.onAuthChange);\r\n        });\r\n    });\r\n  }\r\n\r\n  onAuthChange = isSignedIn => {\r\n    if (isSignedIn) {\r\n      this.props.signIn(this.auth.currentUser.get().getId());\r\n    } else {\r\n      this.props.signOut();\r\n    }\r\n  };\r\n\r\n  onSignIn = () => {\r\n    this.auth.signIn();\r\n  };\r\n\r\n  onSignOut = () => {\r\n    this.auth.signOut();\r\n  };\r\n\r\n  renderAuthButton() {\r\n    if (this.props.isSignedIn === null) {\r\n      return null;\r\n    } else if (this.props.isSignedIn) {\r\n      return (\r\n        <button onClick={this.onSignOut} className=\"ui red google button\">\r\n          <i className=\"google icon\" />\r\n          Sign Out\r\n        </button>\r\n      );\r\n    } else {\r\n      return (\r\n        <button onClick={this.onSignIn} className=\"ui green google button\">\r\n          <i className=\"google icon\" />\r\n          Sign In\r\n        </button>\r\n      );\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return <div>{this.renderAuthButton()}</div>;\r\n  }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n  return { isSignedIn: state.auth.isSignedIn };\r\n};\r\n\r\nexport default connect(\r\n  mapStateToProps,\r\n  { signIn, signOut }\r\n)(GoogleAuth);\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport GoogleAuth from \"./GoogleAuth\";\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className=\"ui secondary pointing menu\">\r\n      <Link to=\"/\" className=\"item\">\r\n        StreamApp\r\n      </Link>\r\n      <div className=\"right menu\" />\r\n      <Link to=\"/\" className=\"item\">\r\n        All Streams\r\n      </Link>\r\n      <GoogleAuth />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport StreamCreate from \"./streams/StreamCreate\";\r\nimport StreamList from \"./streams/StreamList\";\r\nimport StreamEdit from \"./streams/StreamEdit\";\r\nimport StreamDelete from \"./streams/StreamDelete\";\r\nimport StreamShow from \"./streams/StreamShow\";\r\nimport Header from \"./Header\";\r\nimport history from \"../history\";\r\n\r\nconst App = () => {\r\n  return (\r\n    <div className=\"ui container\">\r\n      <Router history={history}>\r\n        <div>\r\n          <Header />\r\n          <Switch>\r\n            <Route path=\"/\" exact component={StreamList} />\r\n            <Route path=\"/streams/new\" exact component={StreamCreate} />\r\n            <Route path=\"/streams/edit/:id\" exact component={StreamEdit} />\r\n            <Route path=\"/streams/delete/:id\" exact component={StreamDelete} />\r\n            <Route path=\"/streams/:id\" exact component={StreamShow} />\r\n          </Switch>\r\n        </div>\r\n      </Router>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { SIGN_IN, SIGN_OUT } from \"../actions/types\";\r\n\r\nconst INITIAL_STATE = {\r\n  isSignedIn: null,\r\n  userId: null\r\n};\r\n\r\nexport default (state = INITIAL_STATE, action) => {\r\n  switch (action.type) {\r\n    case SIGN_IN:\r\n      return { ...state, isSignedIn: true, userId: action.payload };\r\n    case SIGN_OUT:\r\n      return { ...state, isSignedIn: false, userId: null };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import { combineReducers } from \"redux\";\r\nimport authReducer from \"./authReducer\";\r\nimport { reducer as formReducer } from \"redux-form\";\r\nimport streamReducer from \"./streamReducer\";\r\n\r\nexport default combineReducers({\r\n  auth: authReducer,\r\n  form: formReducer,\r\n  streams: streamReducer\r\n});\r\n","import {\r\n  CREATE_STREAM,\r\n  FETCH_STREAM,\r\n  FETCH_STREAMS,\r\n  DELETE_STREAM,\r\n  EDIT_STREAM\r\n} from \"../actions/types\";\r\nimport _ from \"lodash\";\r\n\r\nexport default (state = {}, action) => {\r\n  switch (action.type) {\r\n    case CREATE_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case FETCH_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    case FETCH_STREAMS:\r\n      return { ...state, ..._.mapKeys(action.payload, \"id\") };\r\n    case DELETE_STREAM:\r\n      return _.omit(state, action.payload);\r\n    case EDIT_STREAM:\r\n      return { ...state, [action.payload.id]: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\nimport { Provider } from \"react-redux\";\nimport { createStore, applyMiddleware, compose } from \"redux\";\nimport reducers from \"./reducers\";\nimport reduxThunk from \"redux-thunk\";\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(\n  reducers,\n  composeEnhancers(applyMiddleware(reduxThunk))\n);\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.querySelector(\"#root\")\n);\n"],"sourceRoot":""}